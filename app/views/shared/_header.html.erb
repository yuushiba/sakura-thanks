<!-- app/views/shared/_header.html.erb -->
<header style="background-color: #89AAD3">
  <div class="container mx-auto px-4">
    <div class="navbar min-h-16">
      <div class="flex-1">
        <%= link_to root_path, class: "custom-text hover:opacity-80 text-xl font-semibold" do %>
          Sakura Thanks
        <% end %>
      </div>
      
      <!-- ナビゲーションメニュー -->
      <div class="flex gap-4">
        <%= link_to "一覧ページ", posts_path, class: "custom-text hover:opacity-80 text-sm md:text-base" %>
        
        <% if logged_in? %>
          <%= link_to "マイページ", mypage_path, class: "custom-text hover:opacity-80 text-sm md:text-base" %>
          
          <!-- ログイン時のみハンバーガーメニュー表示 - Stimulus対応 -->
          <div data-controller="dropdown" class="dropdown dropdown-end relative">
            <button type="button" data-action="click->dropdown#toggle" class="btn btn-ghost p-2" 
                    style="background-color: transparent;">
              <i class="fas fa-bars text-white text-lg"></i>
            </button>
            <div data-dropdown-target="content" class="dropdown-content absolute right-0 mt-2 p-2 shadow rounded-box w-52 z-50"
                style="background-color: #89AAD3; display: none;">
              <div class="w-full mb-2">
                <%= link_to "お気に入り", bookmarks_posts_path, class: "custom-text block py-2 px-4 hover:bg-opacity-20 rounded" %>
              </div>
              <div class="w-full">
                <%= link_to "ログアウト", logout_path, data: { turbo_method: :delete }, class: "custom-text block py-2 px-4 hover:bg-opacity-20 rounded" %>
              </div>
            </div>
          </div>
        <% else %>
          <!-- 未ログイン時のメニュー項目 -->
          <%= link_to "ログイン", login_path, class: "custom-text hover:opacity-80 text-sm md:text-base" %>
          <%= link_to "新規登録", new_user_path, class: "custom-text hover:opacity-80 text-sm md:text-base" %>
        <% end %>
      </div>
    </div>
  </div>
</header>
